<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name=viewport content="width=device-width, initial-scale=1">
	<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
	<link href="./global.css" rel="stylesheet" type="text/css">
	<title>Lethargy demo</title>
	<script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
	<script src="./lethargy.min.js"></script>
</head>
<body>
	<div class="content">
		<h1>Lethargy Demo</h1>
		<a href="https://github.com/d4nyll/lethargy" target="_blank">GitHub</a>, <a href="http://blog.danyll.com/lethargy-tackling-inertial-scroll/" target="_blank">Blog</a>
		<p>Start scrolling!</p>
		<p>Starts off as <span class="inactive">gray</span>, <span class="active">green</span> indicates scroll event, <span class="inertial">red</span> when the event is blocked.</p>
		<p>If you scroll with your mouse or trackpad, you'll see a brief flash of green, and then red. This is how lethargy works - each scroll <em>intent</em> is meant to fire only one block of events.</p>
		<div class="indicator"></div>
	</div>
	<script>
		(function() {
			document.getElementsByClassName('indicator')[0].style.backgroundColor = "gray";
			var lethargy = new Lethargy();
			$(window).bind('mousewheel DOMMouseScroll wheel MozMousePixelScroll', function(e){
				e.preventDefault()
				e.stopPropagation();
				var result = lethargy.check(e);
				console.log(result);
				if(result !== false) {
					document.getElementsByClassName('indicator')[0].style.backgroundColor = "#1AB742";
				} else {
					document.getElementsByClassName('indicator')[0].style.backgroundColor = "#E8305D";
				}
			});
		})();
	</script>
</body>
</html>